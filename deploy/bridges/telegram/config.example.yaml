# Example Telegram Bridge Configuration
# Copy this to data/config.yaml and fill in your values

# Homeserver details
homeserver:
    # The address that this appservice can use to connect to the homeserver
    address: https://your-matrix-server.com
    # The domain of the homeserver (for MXIDs, etc)
    domain: your-matrix-server.com
    # Whether or not to verify the SSL certificate
    verify_ssl: true

# Application service host/registration details
appservice:
    # The address that the homeserver can use to connect to this appservice
    address: http://localhost:29317

    # The hostname and port where this appservice should listen
    hostname: 0.0.0.0
    port: 29317

    # Database - using SQLite for simplicity
    database: sqlite:///data/mautrix-telegram.db

    # The unique ID of this appservice
    id: telegram

    # Username of the appservice bot
    bot_username: telegrambot

    # Display name and avatar for bot
    bot_displayname: Telegram bridge bot
    bot_avatar: mxc://maunium.net/tJCRmUyJDsgRNgqhOgoiHWbX

# Bridge configuration
bridge:
    # Permissions for using the bridge
    permissions:
        "*": "relaybot"
        "your-domain.com": "full"
        "@your-admin:your-domain.com": "admin"

    # Set displayname template for Telegram users
    displayname_template: "{displayname} (Telegram)"

    # Maximum number of members to sync per portal when starting up
    max_initial_member_sync: 100

    # Whether or not to sync the member list in channels
    sync_channel_members: false

    # Whether or not to allow Matrix users to log in within Matrix
    allow_matrix_login: true

# Telegram configuration
telegram:
    # Get your own API keys at https://my.telegram.org/apps
    api_id: YOUR_API_ID_HERE
    api_hash: YOUR_API_HASH_HERE

    # Create your bot at https://t.me/BotFather
    bot_token: YOUR_BOT_TOKEN_HERE

    # Should the bridge request missed updates from Telegram when restarting?
    catch_up: true

    # Should incoming updates be handled sequentially?
    sequential_updates: true

# Logging configuration
logging:
    version: 1
    formatters:
        colored:
            class: mautrix.util.logging.color.ColorFormatter
            format: "[%(asctime)s] [%(levelname)s@%(name)s] %(message)s"
    handlers:
        console:
            class: logging.StreamHandler
            formatter: colored
    loggers:
        mau:
            level: DEBUG
        telethon:
            level: INFO
    root:
        level: DEBUG
        handlers: [console]
