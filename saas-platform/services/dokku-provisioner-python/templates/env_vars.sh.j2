#!/bin/bash
# Environment variables for {{ app_name }}

# Core configuration
export INSTANCE_ID="{{ instance_id }}"
export ACCOUNT_ID="{{ account_id }}"
export TIER="{{ tier }}"
export APP_NAME="{{ app_name }}"

# URLs
export BASE_URL="{{ base_url }}"
export FRONTEND_URL="{{ frontend_url }}"
export BACKEND_URL="{{ backend_url }}"
{% if matrix_url %}
export MATRIX_URL="{{ matrix_url }}"
{% endif %}

# Authentication
export ADMIN_PASSWORD="{{ admin_password }}"

# Paths
export CONFIG_PATH="/app/config/config.yaml"
export STORAGE_PATH="/app/mindroom_data"
export LOG_PATH="/app/logs"

# Limits
export MAX_AGENTS="{{ limits.agents }}"
export MAX_MESSAGES_PER_DAY="{{ limits.messages_per_day }}"
export MEMORY_LIMIT="{{ limits.memory_mb }}m"
export CPU_LIMIT="{{ limits.cpu_limit }}"

# Matrix configuration
export MATRIX_HOMESERVER="{{ matrix_homeserver | default('https://matrix.org') }}"
{% if matrix_config %}
export MATRIX_SERVER_NAME="{{ matrix_config.server_name }}"
export MATRIX_ALLOW_REGISTRATION="{{ matrix_config.allow_registration | default('false') }}"
export MATRIX_ENABLE_FEDERATION="{{ matrix_config.enable_federation | default('true') }}"
{% endif %}

# Logging
export LOG_LEVEL="{{ log_level | default('INFO') }}"

# Feature flags
export ENABLE_ANALYTICS="{{ enable_analytics | default('true') }}"
export ENABLE_MONITORING="{{ enable_monitoring | default('true') }}"
